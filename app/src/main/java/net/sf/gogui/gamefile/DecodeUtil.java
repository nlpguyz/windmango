package net.sf.gogui.gamefile;

public class DecodeUtil {
	private static final char[] swf_pack_tab = 
	{
	0X57,0X36,0X62,0X25,0X18,0X32,0X5B,0X74,0X1C,0X13,0X39,0X6D,0X6A,0X65,0X12,0X43,
	0X65,0X37,0X63,0X12,0X6E,0X09,0X69,0X13,0X5A,0X5A,0X7F,0X8D,0X1D,0X68,0X77,0X75,
	0X55,0X23,0X3D,0X79,0X1E,0X1D,0X15,0X27,0X6F,0X65,0X6C,0X1B,0X6F,0X2C,0X01,0X75,
	0X05,0X16,0X68,0X2B,0X55,0X26,0X6D,0X7C,0X1E,0X1D,0X15,0X27,0X6F,0X65,0X6C,0X1B,
	0X18,0X12,0X1B,0X7E,0X1e,0X3F,0X15,0X30,0X1C,0X0C,0X1E,0X7E,0X02,0X1C,0X06,0X3B,
	0X1F,0X15,0X01,0X02,0X6E,0X62,0X00,0X10,0X6D,0X25,0X1C,0X6F,0X05,0X15,0X62,0X1D,
	0X6F,0X2C,0X61,0X7E,0X15,0X1F,0X75,0X7A,0X18,0X62,0X68,0X7B,0X07,0X36,0X62,0X25,
	0X6A,0X10,0X1D,0X35,0X6D,0X2C,0X18,0X12,0X63,0X63,0X1C,0X11,0X11,0X00,0X61,0X6E,
	0X12,0X2C,0X18,0X62,0X68,0X7B,0X07,0X36,0X62,0X25,0X18,0X12,0X1B,0X7E,0X02,0X1C,
	0X06,0X3B,0X6E,0X62,0X00,0X10,0X6D,0X25,0X1C,0X6F,0X05,0X15,0X17,0X1D,0X62,0X1D,
	0X6A,0X10,0X1D,0X35,0X6D,0X2C,0X18,0X12,0X63,0X63,0X75,0X7A,0X02,0X25,0X6F,0X6F,
	0X66,0X30,0X1E,0X7E,0X63,0X12,0X04,0X06,0X18,0X7C,0X77,0X75,0X1E,0X31,0X6F,0X2D,
	0X65,0X06,0X63,0X75,0X13,0X35,0X65,0X73,0X07,0X36,0X62,0X25,0X18,0X12,0X1B,0X7E,
	0X6A,0XA0,0X1D,0X35,0X6D,0X2C,0X18,0X15,0X63,0X67,0X75,0X7A,0X02,0X25,0X6F,0X6F,
	0X65,0X1F,0X18,0X73,0X61,0X7E,0X06,0X06,0X18,0X7C,0X75,0X7A,0X12,0X2C,0X6B,0X7D,
	0X1D,0X26,0X1C,0X71,0X63,0X12,0X61,0X7E,0X15,0X1F,0X02,0X26,0X1E,0X18,0X75,0X7A,
	0X00,0X26,0X6D,0X6C,0X1E,0X1D,0X15,0X27,0X6F,0X65,0X6C,0X1B,0X6F,0X2C,0X01,0X75,
	0X65,0X57,0X63,0X22,0X6E,0X09,0X69,0X10,0X6A,0X6A,0X6F,0X7D,0X1D,0X68,0X77,0X75,
	0X05,0X56,0X68,0X1B,0X00,0X06,0X6D,0X7C,0X1E,0X1D,0X15,0X27,0X6F,0X65,0X6C,0X1B,
	0X1F,0X23,0X00,0X17,0X65,0X06,0X63,0X75,0X06,0X1A,0X1C,0X15,0X02,0X26,0X1E,0X18,
	0X6F,0X5C,0X61,0X7E,0X15,0X1F,0X75,0X7A,0X18,0X62,0X68,0X7B,0X07,0X36,0X62,0X25,
	0X18,0X32,0X1B,0X7E,0X1C,0X3F,0X15,0X30,0X1C,0X0C,0X1E,0X7E,0X02,0X1C,0X06,0X3B,
	0X72,0X66,0X32,0X55,0X18,0X12,0X1B,0X7E,0X1C,0X11,0X05,0X6D,0X6A,0X05,0X02,0X0C,
	0X1F,0X65,0X01,0X23,0X6E,0X62,0X00,0X10,0X6D,0X25,0X1C,0X6F,0X05,0X15,0X62,0X1D,
	0X65,0X1F,0X18,0X73,0X61,0X7E,0X06,0X06,0X18,0X7C,0X75,0X7A,0X12,0X2C,0X6B,0X7D,
	0X6A,0X70,0X1D,0X35,0X6D,0X2C,0X18,0X12,0X63,0X63,0X1C,0X11,0X11,0X00,0X61,0X6E,
	0X66,0X80,0X1E,0X7E,0X63,0X12,0X06,0X06,0X18,0X7C,0X78,0X75,0X1E,0X31,0X6F,0X2D,
	0X12,0X9C,0X18,0X62,0X68,0X7B,0X07,0X36,0X62,0X25,0X18,0X12,0X1B,0X7E,0X02,0X1C,
	0X06,0XBB,0X6E,0X62,0X00,0X10,0X6D,0X25,0X1C,0X6F,0X05,0X15,0X17,0X1D,0X62,0X1D,
	0X1D,0X56,0X1C,0X71,0X63,0X12,0X61,0X7E,0X15,0X1F,0X02,0X26,0X1E,0X18,0X75,0X79,
	0X65,0X56,0X63,0X75,0X13,0X35,0X65,0X73,0X07,0X36,0X62,0X25,0X18,0X12,0X1B,0X7E,
	0X1F,0X63,0X66,0X17,0X65,0X06,0X63,0X75,0X06,0X1A,0X1C,0X15,0X02,0X26,0X1E,0X18
	};

	public static String decode(String str) {
		byte[] encodeByte = str.getBytes();
		int size = encodeByte.length;
		
		for (int i = 0, j = 0; i < size; i++) {
			encodeByte[i] ^= swf_pack_tab[j++];
			if (j >= 512) {
				j = 0;
			}
		}
		
		return new String(encodeByte);
	}
}
